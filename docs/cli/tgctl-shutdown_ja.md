# tgctl shutdown

## NAME

`tgctl shutdown` - Tsurugi データベースのシャットダウン

## SYNOPSIS

```sh
tgctl shutdown [OPTIONS]
```

## DESCRIPTION

`tgctl shutdown` は、Tsurugi データベースを安全に終了させるコマンドです。

データベースを安全に終了させることで、データの整合性を保ちつつ、次回の起動をスムーズに行うことができます。

## EXAMPLES

```sh
tgctl shutdown
```

## OPTIONS

このコマンドは以下のオプションをサポートします:

* `--conf </path/to/tsurugi.ini>` : 構成定義ファイルのパス
  * 操作対象の Tsurugi インスタンスの構成定義ファイル (`tsurugi.ini`) を指定します
  * 未指定の場合は [デフォルトの構成定義ファイル](./tgctl_ja.md#構成定義ファイル) を使用します
* `--timeout <value>` : タイムアウト時間（秒）
  * データベースプロセスの終了を確認するまでの時間を指定します
  * 指定した時間内にデータベースの安全な終了が確認できない場合、コマンドはエラーを返します (データベースの終了は継続して行われます)
  * `0` を指定すると対象のデータベースが安全に終了するか、安全な終了に失敗するまで制御を返しません
  * 未指定の場合、 `300` 秒に設定されます
* `--forceful`
  * このオプションを指定すると、新しいリクエストを閉塞し、稼働中のリクエストを速やかに終了させたのちに、データベースを終了させます (forceful シャットダウン)
  * デフォルトの挙動であり、未指定の場合も同様に forceful シャットダウンを行います
* `--graceful`
  * このオプションを指定すると、新しいリクエストを閉塞し、稼働中のリクエストの自然な終了を待ったのちに、データベースを終了させます (graceful シャットダウン)
  * 未指定の場合、 forceful シャットダウンを行います

## NOTES

* 本コマンドは、Tsurugi インスタンスが稼働状態で利用可能です
  * インスタンスのシャットダウン中や起動中などにおいて、コマンドがエラー終了する場合があります
* 本コマンドの実行に成功したとしても、必ずしもデータベースのシャットダウンに成功したことを意味しません
  * 必要に応じて [tgctl status](./tgctl-status_ja.md) コマンドを利用し、状態を確認してください

## EXIT STATUS

* `0` : 正常にデータベースを安全に終了した
* その他 : エラー等によりTsurugi データベースを安全に終了できなかった

## SEE ALSO

* [`tgctl start`](./tgctl-start_ja.md)
* [`tgctl kill`](./tgctl-kill_ja.md)